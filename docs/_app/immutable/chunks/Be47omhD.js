import{b as H,h as A,a as L,E as O,X as q,H as v,Y as F,Z,o as B,s as h,_ as S,c as b,p as N,$ as C,d as M,a0 as P,a1 as U,g as X,a2 as $,S as j}from"./BWtmqzP_.js";function z(f,c,[r,s]=[0,0]){A&&r===0&&L();var i=f,a=null,l=null,n=C,k=r>0?O:0,u=!1;const Y=(T,t=!0)=>{u=!0,E(t,T)},E=(T,t)=>{if(n===(n=T))return;let e=!1;if(A&&s!==-1){if(r===0){const I=q(i);I===v?s=0:I===F?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=n?1/0:-1))}const D=s>r;!!n===D&&(i=Z(),B(i),h(!1),e=!0,s=-1)}n?(a?S(a):t&&(a=b(()=>t(i))),l&&N(l,()=>{l=null})):(l?S(l):t&&(l=b(()=>t(i,[r+1,s]))),a&&N(a,()=>{a=null})),e&&h(!0)};H(()=>{u=!1,c(Y),u||E(null,null)},k),A&&(i=M)}function R(f,c){return f===c||(f==null?void 0:f[j])===c}function G(f={},c,r,s){return P(()=>{var i,a;return U(()=>{i=a,a=(s==null?void 0:s())||[],X(()=>{f!==r(...a)&&(c(f,...a),i&&R(r(...i),f)&&c(null,...i))})}),()=>{$(()=>{a&&R(r(...a),f)&&c(null,...a)})}}),f}export{G as b,z as i};
