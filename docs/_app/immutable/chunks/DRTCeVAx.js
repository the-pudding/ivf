import{b as L,h as A,a as Y,E as q,M as v,N as F,O as H,Q as M,s as U,R as h,T as N,c as R,p as S,U as B,d as C,V as P,W as Q,m as V,X as W,S as X}from"./Bncm7p77.js";function j(a,c,[r,s]=[0,0]){A&&r===0&&Y();var i=a,f=null,l=null,n=B,k=r>0?q:0,u=!1;const O=(T,t=!0)=>{u=!0,E(t,T)},E=(T,t)=>{if(n===(n=T))return;let e=!1;if(A&&s!==-1){if(r===0){const I=v(i);I===F?s=0:I===H?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=n?1/0:-1))}const D=s>r;!!n===D&&(i=M(),U(i),h(!1),e=!0,s=-1)}n?(f?N(f):t&&(f=R(()=>t(i))),l&&S(l,()=>{l=null})):(l?N(l):t&&(l=R(()=>t(i,[r+1,s]))),f&&S(f,()=>{f=null})),e&&h(!0)};L(()=>{u=!1,c(O),u||E(null,null)},k),A&&(i=C)}function b(a,c){return a===c||(a==null?void 0:a[X])===c}function w(a={},c,r,s){return P(()=>{var i,f;return Q(()=>{i=f,f=(s==null?void 0:s())||[],V(()=>{a!==r(...f)&&(c(a,...f),i&&b(r(...i),a)&&c(null,...i))})}),()=>{W(()=>{f&&b(r(...f),a)&&c(null,...f)})}}),a}export{w as b,j as i};
